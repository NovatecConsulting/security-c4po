<nav class="navbar navbar-expand-lg navbar-custom mat-elevation-z2">
  <div class="collapse navbar-collapse" id="navbarColor01">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <button mat-mini-fab color="primary" (click)="navigateBack()"><i class="fa fa-arrow-left fa-lg"></i></button>
      </li>
      <!--<li class="nav-item active description">
        <a class="nav-link"><b>{{project.client}}</b></a>
      </li>
      <li class="nav-item active description">
        <a class="nav-link"><b>/</b></a>
      </li>
      <li class="nav-item active description">
        <a class="nav-link"><b>{{project.title}}</b></a>
      </li>
      <li class="nav-item active description">
        <a class="nav-link"><b>/</b></a>
      </li>
      <li class="nav-item active description">
        <a class="nav-link"><b>Created: </b>{{project.created}}</a>
      </li>-->
      <!--<li>-->
      <!--<button mat-mini-fab color="accent" (click)="share(project)"><i class="fa fa-cog"></i></button>-->
      <!--</li>-->
    </ul>
    <ul class="nav navbar-nav pull-right">
      <button mat-mini-fab color="warn" (click)="deleteProject()"><i class="fa fa-trash fa-lg"></i></button>
    </ul>
  </div>
</nav>

<div class="container" style="margin-top: 15px;">
  <div class="row">

    <!-- TESTER -->

    <div class="col">
      <mat-card class="example-card mat-elevation-z6">
        <mat-card-header>
          <!--<div mat-card-avatar class="example-header-image"></div>-->
          <mat-card-title>Tester</mat-card-title>
          <!--<mat-card-subtitle>Tested by: {{tester}}</mat-card-subtitle>-->
        </mat-card-header>
        <img mat-card-image [src]=testerLogos[selectedTesterLogo] alt="No Logo">
        <mat-card-content>
          <section class="example-section">
            <mat-radio-group class="example-radio-group" [(ngModel)]="selectedTesterLogo">
              <mat-radio-button class="example-radio-button" *ngFor="let logo of objectKeys(testerLogos)" [value]="logo"
                                (change)="saveLogoRadioChangeToStore($event.value, 'tester')">
                {{logo}}
              </mat-radio-button>
            </mat-radio-group>
          </section>
          <ng-container *ngIf="dashboardService.project$ | async as projects">
            <!--<input matInput [value]="project">-->
            {{projects}}
          </ng-container>
          <section class="example-section" style="padding-top: 20px;">
            <mat-form-field class="example-full-width">
              <input matInput placeholder="Tester" [(ngModel)]="tester"
                     (ngModelChange)="saveStringToStore($event, 'tester')">
            </mat-form-field>
          </section>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- CLIENT -->

    <div class="col">
      <mat-card class="example-card mat-elevation-z6">
        <mat-card-header>
          <!--<div mat-card-avatar class="example-header-image"></div>-->
          <mat-card-title>Client</mat-card-title>
          <!--<mat-card-subtitle>Dog Breed</mat-card-subtitle>-->
        </mat-card-header>
<!--        <img mat-card-image [src]=customerLogos[selectedCustomerLogo] alt="No Logo">-->
        <div style="text-align: center;">
          <img mat-card-image [src]="croppedImage" class="logo" alt="No Logo">
        </div>
        <mat-card-content style="margin-bottom: 0;">
          <section class="example-section">
            <mat-radio-group class="example-radio-group" [(ngModel)]="selectedCustomerLogo">
              <mat-radio-button class="example-radio-button" *ngFor="let logo of objectKeys(customerLogos)"
                                [value]="logo" (change)="saveLogoRadioChangeToStore($event.value, 'customer')">
                {{logo}}
              </mat-radio-button>
            </mat-radio-group>
          </section>
          <section class="example-section" style="padding-top: 20px;">
            <mat-form-field class="example-full-width">
              <input matInput placeholder="Client" [(ngModel)]="customer"
                     (ngModelChange)="saveStringToStore($event, 'customer')">
            </mat-form-field>
          </section>

          <!-- Image Cropping Tool -->
          <div *ngIf=true>
            <image-cropper class="image-cropper"
              [imageChangedEvent]="imageChangedEvent"
              [maintainAspectRatio]="true"
              [imageBase64]=""
              [aspectRatio]="1"
              [containWithinAspectRatio]="true"
              [onlyScaleDown]="true"
              format="png"
              (imageCropped)="imageCropped($event)"></image-cropper>
          </div>
          <br>
<!--          <img [src]="croppedImage" class="image-cropper"/>-->

        </mat-card-content>
        <mat-card-actions align="center" style="padding-top: 0;">
          <button mat-stroked-button color="primary" (click)="fileInput.click()">
<!--            <div>-->
            <a>UPLOAD</a>
            <i class="fa fa-arrow-up" style="padding-left: 10px;"></i>
<!--            </div>-->
            <input #fileInput type="file" (change)="fileChangeEvent($event)" style="display: none;">
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <!-- ADDITIONAL INFO -->

    <div class="col">
      <!--<mat-card class="example-card mat-elevation-z6" style="display: flex; flex-direction: column; flex-shrink: 0;">-->
      <mat-card class="example-card mat-elevation-z6">
        <mat-card-header>
          <!--<div mat-card-avatar class="example-header-image"></div>-->
          <mat-card-title>Additional Info</mat-card-title>
          <!--<mat-card-subtitle>Dog Breed</mat-card-subtitle>-->
        </mat-card-header>
        <!--<img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">-->
        <mat-card-content>
          <!--<mat-card-content>-->

          <ng-container *ngIf="projectService.projectDetails$ | async as project">
            <section class="info-section" style="padding-bottom: 0;">
              <mat-form-field class="example-full-width">
                <input matInput placeholder="Project name" [(ngModel)]="project.title"
                       (focusout)="saveStringToStore(project.title, 'project')">
              </mat-form-field>
            </section>

            <section class="info-section" style="flex-direction: column;">
              <div class="left-right-align">
                Created on <b>{{project.createdAt}}</b>
              </div>
              <div class="left-right-align">
                Last modified on <b>{{now | date : 'dd MMM yyyy - HH:mm:ss'}}</b>
              </div>
            </section>
          </ng-container>

          <section class="info-section">
            <div class="left-right-align">
              Security tests checked: <span class="badge badge-dark">{{testedItems.tested}}
              / {{testedItems.total}}</span>
            </div>
          </section>

          <section class="info-section">
            <div class="left-right-align">
              Include checked tests only:
              <mat-checkbox class="example-margin" [(ngModel)]="includeCheckedOnly"
                            (ngModelChange)="saveBooleanToStore($event, 'includeCheckedOnly')"></mat-checkbox>
            </div>
          </section>

          <section class="info-section">
            <div class="left-right-align">
              Link owner can:
              <mat-checkbox class="example-margin" [(ngModel)]="linkPermissions.read"
                            [disabled]="true" labelPosition="before">Read
              </mat-checkbox>
              <mat-checkbox class="example-margin" [(ngModel)]="linkPermissions.comment"
                            labelPosition="before">Comment
              </mat-checkbox>
            </div>
          </section>

        </mat-card-content>

          <mat-card-actions align="center">
            <button mat-stroked-button color="primary" class="create-button" [disabled]="loading"
                    (click)="createLink()">
              <a *ngIf="!loading">CREATE LINK</a>
              <a *ngIf="loading">
                <mat-spinner color="accent" [diameter]="24" style="margin:0 auto; height: inherit;"></mat-spinner>
              </a>
            </button>


            <!--<button *ngIf="!loading" mat-stroked-button color="primary" [disabled]="loading" (click)="createLink()">-->
            <!--<a>CREATE LINK</a>-->
            <!--</button>-->

            <!--<button *ngIf="loading" mat-stroked-button color="primary" [disabled]="loading" (click)="createLink()">-->
            <!--<a><mat-spinner color="accent" [diameter]="24" style="margin:0 auto; height: inherit;"></mat-spinner></a>-->
            <!--</button>-->

            <!--<img *ngIf="loading" style="padding-left: 15px;"-->
            <!--src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>-->
          </mat-card-actions>

      </mat-card>
    </div>
  </div>
</div>
