<div *ngIf="!loadUserLoggedIn">
  <div class="container">
    <div class="row">
      <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
        <div class="card my-5 mat-elevation-z4">
          <div class="card-body">
            <h2 class="card-title text-center">Login</h2>
            <!--<h6 style="text-align: center;">Welcome to Security C-3PO -- your security protocol tool based on the <b>OWASP Testing Guide!</b></h6>-->
            <hr class="my-4">
            <form [formGroup]="loginForm" (ngSubmit)="loginWithCredentials()">
              <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" formControlName="username" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.username.errors }" />
                <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
                  <div *ngIf="f.username.errors.required">Username is required</div>
                </div>
              </div>
              <div class="form-group" style="margin-bottom: 2rem;">
                <label for="password">Password</label>
                <input type="password" id="password" formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
                <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                  <div *ngIf="f.password.errors.required">Password is required</div>
                </div>
              </div>
              <div class="form-group">
                <button [disabled]="loading" class="btn btn-lg btn-block accent" [ngClass]="{'btn-loading':loading}">
                  <a *ngIf="!loading">SIGN IN</a>
                  <a *ngIf="loading"><mat-spinner class="loading-spinner" [diameter]="24" color="accent"></mat-spinner></a>
                </button>
                <!--<img *ngIf="loading" style="padding-left: 15px;" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />-->
                <!--<div class="mat-spinner-style">-->
                  <!--<mat-spinner color="accent" [diameter]="24" style="margin:0 auto;" *ngIf="!loading"></mat-spinner>-->
                <!--</div>-->
              </div>
            </form>
            <app-alert></app-alert>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div style="display: flex; flex-direction: column; align-items: center;">
    <button mat-stroked-button color="" (click)="loginWithOkta()" class="oauth-provider-button" style="margin-bottom: 24px;">
      <a style="color: darkgrey;">Login with</a>
      <a style="float: right; margin-left: 0.5em;"><img src="../../assets/okta_logo.png" alt="okta" height="32"></a>
    </button>
    <button mat-stroked-button color="" (click)="loginWithAuth0()" class="oauth-provider-button">
      <a style="color: darkgrey;">Login with</a>
      <a style="float: right; margin-left: 0.5em;"><img src="../../assets/auth0_logo.png" alt="auth0" height="24"></a>
    </button>
  </div>
</div>
<div *ngIf="loadUserLoggedIn" style="display: flex; flex-direction: column; align-items: center; color: #ffffff;">
  <mat-chip-list style="margin-top: 150px;"><mat-chip color="primary">Checking if OAuth user is logged in ...</mat-chip></mat-chip-list>
  <br>
  <mat-spinner [diameter]="24" style="margin:0 auto;"></mat-spinner>
</div>
